{"version":3,"sources":["services/personService.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","searchFilter","handleSearchFilterChange","value","onChange","PersonForm","props","addPerson","newName","newNumber","person","name","number","onSubmit","event","preventDefault","alreadyExists","update","persons","some","window","confirm","find","changedPerson","updatePerson","setNewName","setNewNumber","handleNameChange","handleNumberChange","type","Persons","deletePerson","Person","confirmDeletion","onClick","filter","toLowerCase","includes","map","confirmDeletionOf","App","useState","setPersons","setSearchFilter","notification","setNotification","isError","setIsError","useEffect","personService","returnedPersons","Notification","message","style","notificationStyle","color","background","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","showNotification","text","showAsError","setTimeout","target","returnedPerson","concat","catch","error","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e2f932c.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n\r\n","import React from 'react'\r\n\r\nconst Filter = ({searchFilter, handleSearchFilterChange}) => (\r\n  <div>filter shown with\r\n    <input\r\n      value={searchFilter}\r\n      onChange={handleSearchFilterChange}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  const tryToAddPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    let alreadyExists = false;\r\n    let update = false;\r\n    if (props.persons.some(person => person.name === props.newName)) {\r\n      alreadyExists = true\r\n      update = window.confirm(`${props.newName} is already added to phonebook, replace the old number with a new one?`)\r\n    }\r\n\r\n    if (update) {\r\n      const person = props.persons.find(person => person.name === props.newName)\r\n      const changedPerson = { ...person, number: props.newNumber }\r\n      props.updatePerson(changedPerson)\r\n    }\r\n\r\n    if (!alreadyExists) {\r\n      addPerson(props.newName, props.newNumber)\r\n      props.setNewName('')\r\n      props.setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const addPerson = (newName, newNumber) => {\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    props.addPerson(person)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={tryToAddPerson}>\r\n    <div>name:\r\n      <input\r\n        value={props.newName}\r\n        onChange={props.handleNameChange}\r\n      />\r\n    </div>\r\n    <div>number:\r\n      <input\r\n        value={props.newNumber}\r\n        onChange={props.handleNumberChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, searchFilter, deletePerson}) => {\r\n\r\n  const getFilteredPersons = () => (\r\n    persons.filter(person =>\r\n      person.name.toLowerCase().includes(searchFilter))\r\n  )\r\n\r\n  const Person = ({person, confirmDeletion}) => {\r\n    return (\r\n      <div>\r\n        {person.name} {person.number}\r\n        <button onClick={confirmDeletion}>delete</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const confirmDeletionOf = person => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      deletePerson(person)\r\n    }\r\n  }\r\n\r\n  return getFilteredPersons().map(person =>\r\n    <Person\r\n      key={person.id}\r\n      person={person}\r\n      confirmDeletion={() => confirmDeletionOf(person)}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport personService from './services/personService'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ searchFilter, setSearchFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ isError, setIsError ] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(returnedPersons => {\n        setPersons(returnedPersons)\n      })\n  }, [])\n\n  const handleSearchFilterChange = (event) => {\n    setSearchFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = person => {\n    personService\n      .create(person)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        showNotification(`Added ${returnedPerson.name}`)\n      })\n      .catch(error => {\n        showNotification(error.response.data.error, true)\n      })\n  }\n\n  const updatePerson = person => {\n    personService\n      .update(person.id, person)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n        showNotification(`Updated number ${returnedPerson.number} to ${returnedPerson.name}`)\n      })\n      .catch(error => {\n        showNotification(error.response.data.error, true)\n      })\n  }\n\n  const deletePerson = person => {\n    personService\n      .remove(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        showNotification(`Deleted ${person.name}`)\n      })\n      .catch(() => {\n        showNotification(\n          `Information of ${person.name} has already been removed from the server`,\n          true)\n      })\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div style={notificationStyle}>\n        {message}\n      </div>\n    )\n  }\n\n  const notificationStyle = {\n    color: isError ? 'red' : 'green',\n    background: 'lightgrey',\n    fontStyle: 'italic',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  const showNotification = (text, showAsError) => {\n    setIsError(showAsError)\n    setNotification(text)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter\n        searchFilter={searchFilter}\n        handleSearchFilterChange={handleSearchFilterChange}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n        updatePerson={updatePerson}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        searchFilter={searchFilter}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}